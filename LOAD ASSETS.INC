' --- GENERAL ASSETS LOADER AND SOME INITIALIZATIONS ---

' USED VIDEO PAGES:
'
'     0 - VISIBLE VIDEO PAGE
'     1 - MAIN FRAME BUFFER
'  2-20 - STAGE AND ANIMATIONS
' 21-24 - TEMPORARY THINGS
' 25-28 - PLAYER 1 SHAPES
' 29-32 - PLAYER 2 SHAPES
'    34 - PLAYERS COLLISION (FOR ENEMY ATTACKS)
'    35 - PLAYER 1 ATTACKS
'    36 - PLAYER 2 ATTACKS
'    37 - FONTS
'    38 - GENERAL OBJECTS
'    39 - GENERAL OBJECTS 2

' LOAD GENERAL ASSETS

SUB LoadAssets
 PAGE WRITE 37: CLS: LOAD PNG ".\IMAGES\OBJECTS\FONTS.PNG",,,1
 PAGE WRITE 38: CLS: LOAD PNG ".\IMAGES\OBJECTS\OBJECTS.PNG",,,1
 PAGE WRITE 39: CLS: LOAD PNG ".\IMAGES\OBJECTS\OBJECTS_2.PNG",,,1
END SUB


' LOAD PLAYER'S SHAPE PAGES "WHO" (1=GUY,2=CODY,3=HAGGAR) TO PLAYER "PL" (1-2)

SUB LoadPlayer(Who,PL)
 LOCAL P
 P=(PL-1)*4
 SELECT CASE Who
  'GUY
  CASE 1:
   PAGE WRITE 25+P: CLS: LOAD PNG ".\IMAGES\MAIN CHAR - GUY\GGRAPJUMP.PNG",,,1
   PAGE WRITE 26+P: CLS: LOAD PNG ".\IMAGES\MAIN CHAR - GUY\GSPECHURT.PNG",,,1
   PAGE WRITE 27+P: CLS: LOAD PNG ".\IMAGES\MAIN CHAR - GUY\GPUNCH.PNG",,,1
   PAGE WRITE 28+P: CLS: LOAD PNG ".\IMAGES\MAIN CHAR - GUY\GWALKING.PNG",,,1
  'CODY
  CASE 2:
   PAGE WRITE 25+P: CLS: LOAD PNG ".\IMAGES\MAIN CHAR - CODY\CGRAPJUMP.PNG",,,1
   PAGE WRITE 26+P: CLS: LOAD PNG ".\IMAGES\MAIN CHAR - CODY\CSPECHURT.PNG",,,1
   PAGE WRITE 27+P: CLS: LOAD PNG ".\IMAGES\MAIN CHAR - CODY\CPUNCH.PNG",,,1
   PAGE WRITE 28+P: CLS: LOAD PNG ".\IMAGES\MAIN CHAR - CODY\CWALKING.PNG",,,1
  'HAGGAR
  CASE 3:
   PAGE WRITE 25+P: CLS: LOAD PNG ".\IMAGES\MAIN CHAR - HAGGAR\HGRAPJUMP.PNG",,,1
   PAGE WRITE 26+P: CLS: LOAD PNG ".\IMAGES\MAIN CHAR - HAGGAR\HSPECHURT.PNG",,,1
   PAGE WRITE 27+P: CLS: LOAD PNG ".\IMAGES\MAIN CHAR - HAGGAR\HPUNCH.PNG",,,1
   PAGE WRITE 28+P: CLS: LOAD PNG ".\IMAGES\MAIN CHAR - HAGGAR\HWALKING.PNG",,,1
 END SELECT
END SUB


' LOAD ROUND MAP WHEN STARTING OR ENDING A ROUND

SUB LoadRoundMap(Round,CLR)
 LOCAL MA$,MB$
 PAGE WRITE 21: CLS 0
 MA$=RIGHT$("0"+STR$(Round*2+CLR),2)
 MB$=RIGHT$("0"+STR$(Round*2+CLR-1),2)
 LOAD PNG ".\IMAGES\MAPS\MAP"+MA$+".PNG",0,  0,1
 LOAD PNG ".\IMAGES\MAPS\MAP"+MB$+".PNG",0,101,1
 PAGE WRITE 1
END SUB


' SHOW ROUND MAP WHEN STARTING OR ENDING A ROUND

SUB ShowRoundMap(M,Y)
 PAGE WRITE 1
 BLIT 0,M*101,32,Y,253,100,21,4
END SUB


' LOAD ROUND / SECTION AND SET ATTRIBUTES

SUB LoadRound
 LOCAL T

 ClearEvents
 
 'SMYA  - VERTICAL SUPERIOR Y LIMIT
 'SMYB  - VERTICAL INFERIOR Y LIMIT
 'LSCRX - HORIZONTAL LEFT  LIMIT OF THE SCROLL X
 'RSCRX - HORIZONTAL RIGHT LIMIT OF THE SCROLL X

 'LIMRD - MAXIMUM SCROLL ROUND

 'L_SCR -  LEFT LIMIT OF THE SCREEN CONSIDERING THE SCROLL
 'R_SCR - RIGHT LIMIT OF THE SCREEN CONSIDERING THE SCROLL

 'SLUMS
 SELECT CASE Round:
 
  CASE 1: ' ROUND 1: SLUMS ------------------------------------------------------------------------
 
   SELECT CASE Section:
    CASE 1: ' ROUND 1-1: SLUMS ----------------------------------------------------------
     SMYA=180: SMYB=238   'VERTICAL LIMIT
     LIMRD=1200           'STAGE SIZE
     LSCRX=10: RSCRX=190  'HORIZONTAL LIMIT
     PAGE WRITE  2: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART01.PNG",,,1
     PAGE WRITE  3: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART02.PNG",,,1
     PAGE WRITE  4: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART03.PNG",,,1
     PAGE WRITE  5: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART04.PNG",,,1
     PAGE WRITE  6: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART05.PNG",,,1
     PAGE WRITE  7: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART06.PNG",,,1 
     PAGE WRITE  8: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART07.PNG",,,1
     PAGE WRITE  9: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART08.PNG",,,1
     PAGE WRITE 10: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART09.PNG",,,1
     PAGE WRITE 11: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\BACKGROUND.PNG",0,-20
     PAGE WRITE 12: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\ANIMATION01.PNG",,,1

    CASE 2: ' ROUND 1-2: SLUMS GALLERY --------------------------------------------------
     SMYA=190: SMYB=238   'VERTICAL LIMIT
     LIMRD=520            'STAGE SIZE
     LSCRX=60: RSCRX=245  'HORIZONTAL LIMIT

    CASE 3: ' ROUND 1-3: SLUMS MAD GEAR LAIR --------------------------------------------
     SMYA=180: SMYB=238 
     LIMRD=960
     LSCRX=135: RSCRX=160

   END SELECT 'END OF CASE Section

 END SELECT 'END OF CASE Round

END SUB


