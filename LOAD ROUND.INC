' --- LOAD AND CONFIGURE START VARIABLES OF THE ROUND SECTIONS AND ASSETS ---


' LOAD ROUND MAP WHEN STARTING OR ENDING A ROUND

SUB LoadRoundMap(Round,CLR)
 LOCAL MA$,MB$
 PAGE WRITE 21: CLS 0
 MA$=RIGHT$("0"+STR$(Round*2+CLR),2)
 MB$=RIGHT$("0"+STR$(Round*2+CLR-1),2)
 LOAD PNG ".\IMAGES\MAPS\MAP"+MA$+".PNG",0,  0,1
 LOAD PNG ".\IMAGES\MAPS\MAP"+MB$+".PNG",0,101,1
 PAGE WRITE 1
END SUB


' SHOW ROUND MAP WHEN STARTING OR ENDING A ROUND

SUB ShowRoundMap(M,Y)
 PAGE WRITE 1
 IF Y>0 THEN Y=0
 BLIT 0,M*101,MM.HRES\2-126,Y,253,100,21,4
END SUB


' LOAD ROUND / SECTION AND SET ATTRIBUTES

SUB LoadRound
 LOCAL T

 ClearEvents
 
 'SMYA  - VERTICAL SUPERIOR Y LIMIT
 'SMYB  - VERTICAL INFERIOR Y LIMIT
 'LSCRX - HORIZONTAL LEFT  LIMIT OF THE SCROLL X
 'RSCRX - HORIZONTAL RIGHT LIMIT OF THE SCROLL X

 'LIMRD - MAXIMUM SCROLL ROUND

 'L_SCR -  LEFT LIMIT OF THE SCREEN CONSIDERING THE SCROLL
 'R_SCR - RIGHT LIMIT OF THE SCREEN CONSIDERING THE SCROLL

 SELECT CASE Round:
 
  CASE 1: ' ROUND 1: SLUMS ------------------------------------------------------------------------
 
   SELECT CASE Section:
    CASE 1: ' ROUND 1-1: SLUMS ----------------------------------------------------------
     '1-1
     PAGE WRITE  2: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART01.PNG",,,1
     PAGE WRITE  3: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART02.PNG",,,1
     PAGE WRITE  4: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART03.PNG",,,1
     PAGE WRITE  5: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART04.PNG",,,1
     '1-2
     PAGE WRITE  6: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART05.PNG",,,1
     PAGE WRITE  7: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART06.PNG",,,1 
     PAGE WRITE  8: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART07.PNG",,,1
     '1-3
     PAGE WRITE  9: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART08.PNG",,,1
     PAGE WRITE 10: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART09.PNG",,,1
     PAGE WRITE 11: CLS: 
     'BACKGROUND
     IF RXX=0 THEN
      LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\BACKGROUND.PNG",0,-20
     ELSE
      LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\BACKGROUND_384.PNG",0,-20
     ENDIF
     'ANIMATIONS AND CUTSCENES BLOCKS
     PAGE WRITE 12: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\ANIMATION01.PNG",,,1
     'FLASHING SLUMS GALLERY
     PAGE WRITE 13: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART05_DARK.PNG",,,1
     PAGE WRITE 14: CLS: LOAD PNG ".\IMAGES\1 - ROUND 1 - SLUMS\PART06_DARK.PNG",,,1 

     SMYA=180: SMYB=238 'VERTICAL LIMIT
     LIMRD=1200         'STAGE SIZE
     LSCRX=10           'HORIZONTAL LIMIT
     RSCRX=MM.HRES-130
     PARTMAX=2          'SECTION PARTITIONS LIMIT
     LEFTLIM=0          'SCROLL TO LEFT TURNED OFF

     PAUSETIMER=0: TIMER=0: STIME=30: GTIME=0  'RESET ROUND TIME

    CASE 2: ' ROUND 1-2: SLUMS GALLERY --------------------------------------------------
     SMYA=190: SMYB=238 'VERTICAL LIMIT
     LIMRD=560          'STAGE SIZE
     LSCRX=60           'HORIZONTAL LIMIT
     RSCRX=MM.HRES-75
     PARTMAX=0          'SECTION PARTITIONS LIMIT
     LEFTLIM=0          'SCROLL TO LEFT TURNED OFF

    CASE 3: ' ROUND 1-3: SLUMS MAD GEAR LAIR --------------------------------------------
     SMYA=180: SMYB=238 'VERTICAL LIMIT
     LIMRD=800          'STAGE SIZE
     LSCRX=135          'HORIZONTAL LIMIT
     RSCRX=MM.HRES-100
     PARTMAX=2          'SECTION PARTITION LIMIT
     LEFTLIM=0          'SCROLL TO LEFT TURNED OFF

   END SELECT 'END OF CASE Section


  CASE 2: ' ROUND 2: SUBWAY -----------------------------------------------------------------------

   SELECT CASE Section:
    CASE 1: ' ROUND 2-1: SUBWAY ENTRY ---------------------------------------------------
     '2-1
     PAGE WRITE  2: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\PART01.PNG",,,1
     PAGE WRITE  3: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\PART02.PNG",,,1
     PAGE WRITE  4: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\PART03.PNG",,,1
     PAGE WRITE  5: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\PART04.PNG",,,1
     '2-2
     PAGE WRITE  6: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\PART05.PNG",,,1
     PAGE WRITE  7: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\PART06.PNG",,,1
     PAGE WRITE  8: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\PART07.PNG",,,1
     PAGE WRITE  9: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\PART08.PNG",,,1
     PAGE WRITE 10: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\PART09.PNG",,,1
     PAGE WRITE 11: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\PART10.PNG",,,1
     PAGE WRITE 12: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\PART11.PNG",,,1
     'ANIMATIONS AND SUBWAY
     PAGE WRITE 13: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\ANIMATION01.PNG",,,1
     PAGE WRITE 14: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\SUBWAY01.PNG",,,1
     PAGE WRITE 15: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\SUBWAY02.PNG",,,1
     PAGE WRITE 16: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\SUBWAY03.PNG",,,1

     SMYA=195: SMYB=238 'VERTICAL LIMIT
     LIMRD=1200         'STAGE SIZE
     LSCRX=150          'HORIZONTAL LIMIT
     RSCRX=MM.HRES-30
     PARTMAX=2          'SECTION PARTITIONS LIMIT
     LEFTLIM=0          'SCROLL TO LEFT TURNED OFF

     PAUSETIMER=0: TIMER=0: STIME=30: GTIME=0  'RESET ROUND TIME
     FOR T=1 TO MAXPL: ENERGY(T)=110: NEXT T   'REPLENISH ENERGY

    CASE 2: ' ROUND 2-2: INSIDE SUBWAY --------------------------------------------------
     SMYA=195: SMYB=238 'VERTICAL LIMIT
     LIMRD=2150         'STAGE SIZE
     LSCRX=60           'HORIZONTAL LIMIT
     RSCRX=MM.HRES-45
     PARTMAX=5          'SECTION PARTITIONS LIMIT
     LEFTLIM=0          'SCROLL TO LEFT TURNED OFF

     'SUBWAY LIGHTS
     Event(0)=0
     Event(1)=MM.HRES\2
     Event(2)=30 'SPEED

    CASE 3: ' ROUND 2-3: SUBWAY GALLERY -------------------------------------------------
     PAGE WRITE  2: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\PART12.PNG",,,1
     PAGE WRITE  3: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\PART13.PNG",,,1
     PAGE WRITE  4: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\PART14.PNG",,,1

     SMYA=190: SMYB=238 'VERTICAL LIMIT
     LIMRD=870          'STAGE SIZE
     LSCRX=20           'HORIZONTAL LIMIT
     RSCRX=MM.HRES-70 
     PARTMAX=2          'SECTION PARTITION LIMIT
     LEFTLIM=0          'SCROLL TO LEFT TURNED OFF

    CASE 4: ' ROUND 2-4: SODOM RING -----------------------------------------------------
     PAGE WRITE  4: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\PART15.PNG",,,1
     PAGE WRITE  5: CLS: LOAD PNG ".\IMAGES\2 - ROUND 2 - SUBWAY\PART16.PNG",,,1

     SMYA=190: SMYB=238 'VERTICAL LIMIT
     LIMRD=560          'STAGE SIZE
     LSCRX=60           'HORIZONTAL LIMIT
     RSCRX=MM.HRES-75
     PARTMAX=0          'SECTION PARTITIONS LIMIT
     LEFTLIM=0          'SCROLL TO LEFT TURNED OFF

   END SELECT 'END OF CASE Section

   IF Section<4 THEN KILL_SOUND: PLAY MODFILE ".\SFX\SFX - ROUND 2.MOD",22050

 END SELECT 'END OF CASE Round

 INC LIMRD,-(RXX=64)*64

END SUB


